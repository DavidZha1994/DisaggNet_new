# DisaggNet 默认配置
# 继承基础配置，适用于快速实验和开发

defaults:
  - base

experiment:
  name: "baseline"

logging:
  version: "v1"

# 损失设置（与 MultiTaskLoss 对齐）
loss:
  weights:
    regression: 1.0
    classification: 1.0
    consistency_schedule:
      type: "linear"
      initial: 0.0
      final: 0.5
      warmup_epochs: 20
  device_weights:
    enable: false
  regression:
    type: "mse"
    huber_delta: 1.0
    quantiles: [0.1, 0.5, 0.9]
  classification:
    type: "bce"
    pos_weight:
      enable: false
    focal_alpha: 1.0
    focal_gamma: 2.0
  priors:
    enable: false

# 评估与策略
evaluation:
  threshold_method: "optimal"

# 启用频域编码与交叉注意力融合（使用 Data/prepared 的freq_features）
model:
  freq_encoder:
    enable: true
  fusion:
    type: "cross_attention"

# 不平衡处理（数据模块读取）
imbalance_handling:
  sampling_strategy: "mixed"

# Walk-Forward 交叉验证（与 walk_forward.py 对齐）
walk_forward:
  n_folds: 3
  purge_gap_minutes: 10
  val_span_days: 3.0
  test_span_days: 3.0
  min_train_days: 7.0
  segment_isolation: false
  holdout_test: true
  time_based_split: true

# 数据准备设置（基础版本）
data_preparation:
  window_size: 256
  stride: 128
  feature_engineering:
    enable_advanced: false
    statistical_windows: [6, 12, 24]

# 稳定性设置（基础版本）
stability:
  numerical:
    detect_anomaly: false
    gradient_clip_val: 0.5
  reproducibility:
    deterministic: false
    benchmark: true

# 保留的配置项（避免重复）
conformal_prediction:
  enable: false
  alpha: 0.1
  regression_method: "quantile"
  classification_method: "logits"

# 复现实验设置（供 main.py 使用）
reproducibility:
  seed: 42
  deterministic: false
  benchmark: true